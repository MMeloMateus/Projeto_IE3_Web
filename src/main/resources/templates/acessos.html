<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Acessos</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

<body>

	<!-- menu lateral -->
	<div th:replace="~{fragments/menu-lateral :: menuLateral}"></div>
	
	<div class="container">
        <h2>Consultar Acessos</h2>

        <div class="pesquisa">
            <form th:action="@{/acessos}" method="get">
                <input type="text" name="pesquisa" placeholder="Pesquisar por local ou nome"
                th:value="${pesquisa}">
                <button type="submit">Pesquisar</button>
            </form>
        </div>

        <div id="lista" class="tabela">
            <table>
                <thead>
                    <tr>
                        <th class="col-local">Local</th>
                        <th class="col-nome-pessoa">Pessoa</th>
                        <th class="col-tipo-pessoa">Tipo Pessoa</th>
                        <th class="col-data">Data</th>
                        <th class="col-tipo-acesso">Tipo Acesso</th>
                        <th class="col-status-acesso">Status Acesso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="acessoDTO : ${acessosDTO}">
                        <td th:text="${acessoDTO.locId}"></td>
                        <td th:text="${acessoDTO.pesId}"></td>
                        <td th:text="${acessoDTO.data}"></td>
                        <td th:text="${acessoDTO.data}"></td>
                        <td th:text="${acessoDTO.tipoAcesso}"></td>
                        <td th:text="${acessoDTO.statusAcesso}"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="paginacao">

                <a th:if="${paginaAtual > 0}"
                   th:href="@{/acessos(page=${paginaAtual - 1}, pesquisa=${pesquisa})}">
                     <button> Anterior </button>
                </a>
            <span th:unless="${paginaAtual > 0}" class="button-disabled">Anterior</span>

                <span>Página <span th:text="${paginaAtual + 1}">1</span> de <span th:text="${totalPaginas}">3</span></span>

                <a th:if="${paginaAtual + 1 < totalPaginas}"
                   th:href="@{/acessos(page=${paginaAtual + 1}, pesquisa=${pesquisa})}">
                    <button> Próximo </button>
                </a>
            <span th:unless="${paginaAtual + 1 < totalPaginas}" class="button-disabled">Próximo</span>
        </div>
      </div>
  </body>
</html>